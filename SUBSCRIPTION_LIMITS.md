# Limites de Planos de Assinatura

## ğŸ“‹ VisÃ£o Geral dos Planos

### ğŸ†“ FREE
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                    FREE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PreÃ§o:           â‚¬0.00 (Sem acesso)
ğŸª Lojas:           0 lojas
ğŸ“Š Campanhas:       0 campanhas
âš¡ Recursos:        Nenhum
â±ï¸  DuraÃ§Ã£o:         Ilimitada

ğŸ“ Nota: Utilizadores sem trial ativo ou 
         assinatura paga nÃ£o tÃªm acesso a 
         funcionalidades
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### ğŸ TRIAL (10 dias)
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
              TRIAL - 10 DIAS
      (Acesso COMPLETO ao Plano Standard)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PreÃ§o:           â‚¬0.00 (GrÃ¡tis)
ğŸª Lojas:           2 lojas
ğŸ“Š Campanhas:       40 campanhas
â±ï¸  DuraÃ§Ã£o:         10 dias

âš¡ RECURSOS INCLUÃDOS:
   âœ… Daily ROAS (AutomÃ¡tico)
   âœ… Profit Sheet
   âœ… GestÃ£o de Campanhas
   âœ… CotaÃ§Ã£o com IA
   âœ… Todas as funcionalidades do Standard

ğŸ“ ApÃ³s ExpiraÃ§Ã£o:
   â€¢ Modal/banner informa o utilizador
   â€¢ Acesso bloqueado atÃ© escolher plano pago
   â€¢ Dados sÃ£o preservados
   â€¢ Obrigado a subscrever para continuar
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### ğŸ’¼ BASIC
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                   BASIC
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PreÃ§o Mensal:    â‚¬14.99/mÃªs
ğŸ’° PreÃ§o Anual:     â‚¬134.91/ano (Poupa â‚¬44.97)
ğŸª Lojas:           1 loja
ğŸ“Š Campanhas:       15 campanhas

âš¡ RECURSOS INCLUÃDOS:
   âœ… Daily ROAS (AutomÃ¡tico em todos)
   âœ… Profit Sheet
   âœ… AnÃ¡lises bÃ¡sicas
   âœ… SincronizaÃ§Ã£o de produtos
   âœ… IntegraÃ§Ã£o Facebook

ğŸ¯ IDEAL PARA:
   â€¢ Pequenos negÃ³cios
   â€¢ Iniciantes em e-commerce
   â€¢ Quem quer testar a plataforma
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### â­ STANDARD (Mais Popular)
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
              â­ STANDARD â­
           (PLANO MAIS POPULAR)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PreÃ§o Mensal:    â‚¬34.99/mÃªs
ğŸ’° PreÃ§o Anual:     â‚¬314.91/ano (Poupa â‚¬104.97)
ğŸª Lojas:           2 lojas
ğŸ“Š Campanhas:       40 campanhas

âš¡ RECURSOS INCLUÃDOS:
   âœ… Daily ROAS (AutomÃ¡tico em todos)
   âœ… Profit Sheet
   âœ… GestÃ£o de Campanhas
   âœ… CotaÃ§Ã£o com IA
   âœ… AnÃ¡lises avanÃ§adas
   âœ… Meta Dashboard
   âœ… IntegraÃ§Ã£o Facebook/Shopify

ğŸ¯ IDEAL PARA:
   â€¢ NegÃ³cios em crescimento
   â€¢ GestÃ£o de mÃºltiplas campanhas
   â€¢ OtimizaÃ§Ã£o contÃ­nua de ROAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### ğŸš€ EXPERT
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                  ğŸš€ EXPERT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PreÃ§o Mensal:    â‚¬49.99/mÃªs
ğŸ’° PreÃ§o Anual:     â‚¬449.91/ano (Poupa â‚¬149.97)
ğŸª Lojas:           4 lojas
ğŸ“Š Campanhas:       ILIMITADAS

âš¡ RECURSOS INCLUÃDOS:
   âœ… Daily ROAS (AutomÃ¡tico em todos)
   âœ… Profit Sheet
   âœ… GestÃ£o de Campanhas
   âœ… CotaÃ§Ã£o com IA
   âœ… Product Research
   âœ… AnÃ¡lises avanÃ§adas
   âœ… Meta Dashboard
   âœ… Suporte PrioritÃ¡rio
   âœ… HistÃ³rico Completo
   âœ… Todas as funcionalidades avanÃ§adas

ğŸ¯ IDEAL PARA:
   â€¢ NegÃ³cios estabelecidos
   â€¢ MÃºltiplas lojas
   â€¢ Campanhas em larga escala
   â€¢ Necessidade de anÃ¡lises profundas
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### ğŸ¢ BUSINESS (Enterprise)
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            ğŸ¢ BUSINESS
          (Enterprise Solution)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PreÃ§o:           SOB CONSULTA (Customizado)
ğŸª Lojas:           ILIMITADAS (Customizado)
ğŸ“Š Campanhas:       ILIMITADAS (Customizado)

âš¡ RECURSOS INCLUÃDOS:
   âœ… Todas as funcionalidades do Expert
   âœ… Daily ROAS (AutomÃ¡tico em todos)
   âœ… Profit Sheet
   âœ… GestÃ£o de Campanhas
   âœ… CotaÃ§Ã£o com IA
   âœ… Product Research
   âœ… Lojas Ilimitadas
   âœ… Suporte Dedicado 24/7
   âœ… Onboarding Personalizado
   âœ… Funcionalidades Customizadas
   âœ… IntegraÃ§Ãµes Sob Demanda
   âœ… SLA Garantido
   âœ… Account Manager dedicado

ğŸ¯ IDEAL PARA:
   â€¢ Grandes empresas
   â€¢ Necessidades especÃ­ficas
   â€¢ Volume alto de operaÃ§Ãµes
   â€¢ IntegraÃ§Ãµes customizadas
   
ğŸ“§ CONTACTO: info@sheet-tools.com
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## ğŸ“Š Tabela de ComparaÃ§Ã£o de Recursos

| Funcionalidade | FREE | TRIAL | BASIC | STANDARD | EXPERT | BUSINESS |
|---|:---:|:---:|:---:|:---:|:---:|:---:|
| **Daily ROAS (AutomÃ¡tico)** | âŒ | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Profit Sheet** | âŒ | âœ… | âœ… | âœ… | âœ… | âœ… |
| **GestÃ£o de Campanhas** | âŒ | âœ… | âŒ | âœ… | âœ… | âœ… |
| **CotaÃ§Ã£o com IA** | âŒ | âœ… | âŒ | âœ… | âœ… | âœ… |
| **Product Research** | âŒ | âŒ | âŒ | âŒ | âœ… | âœ… |
| **Suporte PrioritÃ¡rio** | âŒ | âŒ | âŒ | âŒ | âœ… | âœ… |
| **HistÃ³rico Completo** | âŒ | âŒ | âŒ | âŒ | âœ… | âœ… |
| **Suporte Dedicado 24/7** | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| **Onboarding Personalizado** | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| **Funcionalidades Custom** | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| **IntegraÃ§Ãµes Sob Demanda** | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| **Lojas** | 0 | 2 | 1 | 2 | 4 | â™¾ï¸ |
| **Campanhas** | 0 | 40 | 15 | 40 | â™¾ï¸ | â™¾ï¸ |

---

## ğŸ”§ Detalhes TÃ©cnicos dos Planos

### Recursos por Categoria

#### ğŸ“Š Daily ROAS (AutomÃ¡tico em TODOS os planos pagos)
- CÃ¡lculo automÃ¡tico de mÃ©tricas
- AnÃ¡lise em tempo real
- RecomendaÃ§Ãµes inteligentes (KILL, SCALE, MANTER, DESCALE)
- IntegraÃ§Ã£o com Facebook Ads
- Dashboard visual

#### ğŸ“ˆ Profit Sheet
- CÃ¡lculo de margens de lucro
- AnÃ¡lise de rentabilidade por produto
- IntegraÃ§Ã£o com Shopify
- RelatÃ³rios detalhados
- ExportaÃ§Ã£o de dados

#### ğŸ¯ GestÃ£o de Campanhas
- CriaÃ§Ã£o e ediÃ§Ã£o de campanhas
- GestÃ£o de ad sets e anÃºncios
- Controlo de orÃ§amento
- Pausar/Ativar campanhas
- HistÃ³rico de alteraÃ§Ãµes

#### ğŸ¤– CotaÃ§Ã£o com IA
- AnÃ¡lise de preÃ§os de fornecedores
- SugestÃµes de precificaÃ§Ã£o
- CÃ¡lculo de margens ideais
- ComparaÃ§Ã£o de mercado

#### ğŸ” Product Research
- Pesquisa de produtos vencedores
- AnÃ¡lise de tendÃªncias
- Insights de mercado
- Dados de competidores

---

## â±ï¸ Sistema de ExpiraÃ§Ã£o

### Assinaturas Mensais
- **PerÃ­odo ativo:** 30 dias
- **ExpiraÃ§Ã£o:** No dia 30 + 1
- **AÃ§Ã£o:** Se nÃ£o houver renovaÃ§Ã£o automÃ¡tica, o plano volta para FREE

### Assinaturas Anuais
- **PerÃ­odo ativo:** 365 dias
- **ExpiraÃ§Ã£o:** No dia 365 + 1
- **AÃ§Ã£o:** Se nÃ£o houver renovaÃ§Ã£o automÃ¡tica, o plano volta para FREE

### Trial (10 dias)
- **PerÃ­odo ativo:** 10 dias (acesso completo ao Standard)
- **ExpiraÃ§Ã£o:** No dia 10 + 1
- **AÃ§Ã£o:** Acesso bloqueado atÃ© escolher plano pago
- **Dados:** Preservados durante o perÃ­odo de bloqueio

---

## ğŸ”„ VerificaÃ§Ã£o AutomÃ¡tica

### Cron Job (DiÃ¡rio Ã s 00:00)
Executa verificaÃ§Ã£o de:
1. âœ… Assinaturas pagas expiradas
2. âœ… Trials expirados
3. âœ… PerÃ­odos de graÃ§a terminados

### Quando Detectado:
- âš ï¸ O plano Ã© revertido para FREE
- ğŸ“ O status da assinatura Ã© marcado como inativo
- ğŸ“Š Um registro Ã© criado no histÃ³rico de assinaturas
- ğŸ‘¤ O perfil do usuÃ¡rio Ã© atualizado
- ğŸ“§ Email de notificaÃ§Ã£o Ã© enviado

### RenovaÃ§Ã£o AutomÃ¡tica:
- âœ… Se o Stripe processar pagamento de renovaÃ§Ã£o, o plano continua ativo
- ğŸ“… As datas de perÃ­odo sÃ£o atualizadas automaticamente
- ğŸ“ Um novo registro Ã© criado no histÃ³rico
- âœ‰ï¸ Email de confirmaÃ§Ã£o Ã© enviado

---

## ğŸ’¾ ImplementaÃ§Ã£o TÃ©cnica

### Tabelas do Banco de Dados

#### `profiles`
```sql
- subscription_plan: 'free' | 'trial' | 'basic' | 'standard' | 'expert' | 'business'
- subscription_status: 'active' | 'expired' | 'suspended' | 'archived'
- trial_ends_at: timestamp
- created_at: timestamp
- updated_at: timestamp
```

#### `subscriptions`
```sql
- user_id: uuid (FK)
- plan_name: text
- status: text
- billing_period: 'monthly' | 'annual'
- current_period_start: timestamp
- current_period_end: timestamp
- stripe_subscription_id: text
```

#### `subscription_history`
```sql
- user_id: uuid (FK)
- event_type: text
- old_plan: text
- new_plan: text
- timestamp: timestamp
- metadata: jsonb
```

---

### Edge Functions

#### `check-expired-subscriptions`
- **FrequÃªncia:** Diariamente Ã s 00:00 UTC
- **FunÃ§Ã£o:** Verifica e processa expiraÃ§Ãµes de trials e assinaturas
- **AÃ§Ãµes:**
  - Identifica assinaturas expiradas
  - Atualiza status e planos
  - Cria registros no histÃ³rico
  - Envia notificaÃ§Ãµes

#### `stripe-webhook`
- **Trigger:** Eventos do Stripe
- **FunÃ§Ã£o:** Processa eventos de pagamento
- **Eventos:**
  - `checkout.session.completed` - Nova assinatura
  - `invoice.payment_succeeded` - RenovaÃ§Ã£o bem-sucedida
  - `invoice.payment_failed` - Falha no pagamento
  - `customer.subscription.deleted` - Cancelamento

#### `subscription-state-manager`
- **FunÃ§Ã£o:** Gerencia o estado das assinaturas
- **Responsabilidades:**
  - Validar transiÃ§Ãµes de estado
  - Aplicar regras de negÃ³cio
  - Sincronizar com Stripe
  - Manter histÃ³rico consistente

---

### Hooks React

#### `useSubscriptionLimits()`
```typescript
// Retorna os limites atuais do usuÃ¡rio baseado no plano
const { stores, campaigns, features, canAccess } = useSubscriptionLimits();
```

#### `useSubscriptionCheck()`
```typescript
// Verifica expiraÃ§Ã£o em tempo real no frontend
const { isExpired, daysRemaining, plan } = useSubscriptionCheck();
```

#### `useFeatureGate(featureName)`
```typescript
// Verifica se o usuÃ¡rio tem acesso a uma funcionalidade especÃ­fica
const hasAccess = useFeatureGate('product_research');
```

---

## ğŸ¯ EstratÃ©gia de Upsell

### FREE â†’ TRIAL
- **Trigger:** Cadastro na plataforma
- **Incentivo:** 10 dias grÃ¡tis com acesso completo
- **ConversÃ£o:** Modal ao final do trial

### TRIAL â†’ BASIC/STANDARD/EXPERT
- **Trigger:** 7Âº dia do trial (3 dias antes do fim)
- **Incentivo:** Desconto de 25% no primeiro mÃªs
- **UrgÃªncia:** Banner contando dias restantes

### BASIC â†’ STANDARD
- **Trigger:** Atingir 80% do limite de campanhas
- **Incentivo:** Dobrar capacidade + IA
- **Modal:** ComparaÃ§Ã£o de recursos

### STANDARD â†’ EXPERT
- **Trigger:** Atingir 80% do limite de lojas
- **Incentivo:** Campanhas ilimitadas + Product Research
- **Modal:** ROI estimado com Expert

### EXPERT â†’ BUSINESS
- **Trigger:** Requisitar funcionalidade nÃ£o disponÃ­vel
- **Incentivo:** SoluÃ§Ã£o customizada
- **AÃ§Ã£o:** FormulÃ¡rio de contacto

---

## ğŸ“§ Contactos

### Suporte Geral
- **Email:** support@sheet-tools.com
- **HorÃ¡rio:** 9h-18h (dias Ãºteis)

### Business/Enterprise
- **Email:** info@sheet-tools.com
- **HorÃ¡rio:** 24/7 (apÃ³s onboarding)
- **Phone:** DisponÃ­vel apÃ³s contrato

### TÃ©cnico
- **Email:** tech@sheet-tools.com
- **HorÃ¡rio:** 24/7 (planos Expert e Business)

---

## ğŸ“ Notas Importantes

1. **Daily ROAS Ã© automÃ¡tico em TODOS os planos pagos** (Basic, Standard, Expert, Business)
2. Todos os dados sÃ£o preservados ao mudar de plano
3. Downgrade sÃ³ Ã© aplicado no final do perÃ­odo atual
4. Upgrade Ã© imediato com pro-rata do valor pago
5. Cancelamento mantÃ©m acesso atÃ© o final do perÃ­odo pago
6. Trial nÃ£o requer cartÃ£o de crÃ©dito
7. Business Plan requer contrato mÃ­nimo de 12 meses
8. Todas as integraÃ§Ãµes sÃ£o mantidas entre planos

---

**Ãšltima atualizaÃ§Ã£o:** 2025-01-10
**VersÃ£o:** 2.0
